# Flutter安装指南



## 选择开发平台

进入Flutter官方网站https://docs.flutter.cn/get-started/install选择自己的开发平台



## 选择应用类型

在选择自己的开发平台后，选择应用类型



## 安装Flutter

根据官方文档的指引，安装Flutter

### 使用VSCode安装

在使用以下流程来安装 Flutter 前，请确保你已经安装 [Visual Studio Code](https://code.visualstudio.com/docs/setup/windows) 1.77 或更高版本，以及 [Flutter extension for VS Code](https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter)。

#### 根据 VS Code 的提示，安装 Flutter

[#](https://docs.flutter.cn/get-started/install/windows/mobile#prompt-vs-code-to-install-flutter)

1. 启动 VS Code。

2. 打开 **命令面板 (Command Palette)**，按下快捷键 `Control` + `Shift` + `P`。

3. 在 **命令面板 (Command Palette)** 中输入 `flutter`。

4. 选择 **Flutter: New Project**。

   ![img](http://112.124.30.120/MarkDownAssets/flutter-1.png)

5. VS Code 会提示你在计算机上找到 Flutter SDK。

   

   1. 如果你已经安装 Flutter SDK，请单击 **Locate SDK**。

   2. 如果你没有安装 Flutter SDK, 请单击 **Download SDK**。

      如果你没有按照 [开发工具的必要条件](https://docs.flutter.cn/get-started/install/windows/mobile#development-tools) 安装 Git for Windows ，单击该按钮后会导航至 Flutter 安装页面。

6. 当提示 **Which Flutter template?** 的时候，请忽略它。可以按下 Esc。你可以在检查完开发配置后创建初始测试项目。

#### 下载 Flutter SDK

[#](https://docs.flutter.cn/get-started/install/windows/mobile#download-the-flutter-sdk)

1. 当对话框 **Select Folder for Flutter SDK** 显示时，选择你想要安装 Flutter 的位置。

   VS Code 会打开你默认的位置。你可以选择其他位置。

   请考虑 `%USERPROFILE%` 或 `C:\dev` 这样的位置。

> 请注意
>
> 不要将 Flutter 安装到以下情况的目录或路径中：
>
> 路径包含特殊字符或空格。
>
> 路径需要较高的权限。

例如，`C:\Program Files` 路径就是以上情况。

1. 单击 **Clone Flutter**。

   在下载 Flutter 时，VS Code 会弹出该通知：

   ```
   Downloading the Flutter SDK. This may take a few minutes.
   ```

   content_copy

   下载需要一些时间。如果你怀疑下载被挂起，请单击 **Cancel** 取消下载后，再重新尝试安装。

2. Flutter 一旦完成下载， **输出 (Output)** 面板就会显示。

   ```
   Checking Dart SDK version...
   Downloading Dart SDK from the Flutter engine ...
   Expanding downloaded archive...
   ```

   content_copy

   成功后，VS Code 会弹出该通知：

   ```
   Initializing the Flutter SDK. This may take a few minutes.
   ```

   content_copy

   初始化时，**输出 (Output)** 面板会显示下面的内容：

   ```
   Building flutter tool...
   Running pub upgrade...
   Resolving dependencies...
   Got dependencies.
   Downloading Material fonts...
   Downloading Gradle Wrapper...
   Downloading package sky_engine...
   Downloading flutter_patched_sdk tools...
   Downloading flutter_patched_sdk_product tools...
   Downloading windows-x64 tools...
   Downloading windows-x64/font-subset tools...
   ```

   content_copy

   该进程还会运行 `flutter doctor -v`。此时，*请忽略该输出*。因为 Flutter Doctor 可能会显示与本次快速启动无关的错误。

   Flutter 安装成功后，VS Code 会弹出该通知：

   ```
   Do you want to add the Flutter SDK to PATH so it's accessible
   in external terminals?
   ```

   content_copy

3. 单击 **Add SDK to PATH**。

   成功后会显示通知：

   ```
   The Flutter SDK was added to your PATH
   ```

   content_copy

4. VS Code 可能会显示一则 Google Analytics 的通知。

   如果你同意，请单击 **OK**。

5. 在所有 PowerShell 窗口中启用 `flutter`：

   

   1. 关闭，然后重新打开所有 PowerShell 窗口。
   2. 重新启动 VS Code。

### 自行安装SDK

#### 下载并安装 Flutter

[#](https://docs.flutter.cn/get-started/install/windows/mobile#download-then-install-flutter)

从归档列表中下载 Flutter SDK 压缩包，将压缩包移动到你想要的位置，然后解压 SDK，以此来安装 Flutter。

1. 下载以下 Flutter SDK 最新 stable 版本的压缩包。

   [flutter_windows_3.24.1-stable.zip](https://storage.flutter-io.cn/flutter_infra_release/releases/stable/windows/flutter_windows_3.24.1-stable.zip)

   关于其他发布渠道和旧版本，请查阅 [Flutter SDK 归档列表](https://docs.flutter.cn/release/archive)。

   Flutter SDK 应该会下载至 Windows 默认下载目录： `%USERPROFILE%\Downloads`。

   如果你自行更改了下载目录的位置，那么请将之后步骤中解压指令 (Expand-Archive) 的路径 (-Path) 改为你更改后的路径。如果你需要查找当前计算机下载目录的位置，请查阅 [Microsoft Community post](https://answers.microsoft.com/en-us/windows/forum/all/move-download-folder-to-other-drive-in-windows-10/67d58118-4ccd-473e-a3da-4e79fdb4c878)

2. 创建一个文件夹，用于安装 Flutter。

   Consider creating a directory at `%USERPROFILE%` (`C:\Users\{username}`) 或者 `%LOCALAPPDATA%` (`C:\Users\{username}\AppData\Local`).

   可以考虑在 `%USERPROFILE%` (`C:\Users\{username}`) 或者 `%LOCALAPPDATA%` (`C:\Users\{username}\AppData\Local`) 中创建一个目录。

   *warning*请注意

   不要将 Flutter 安装到以下情况的目录或路径中：

   - 路径包含特殊字符或空格。
   - 路径需要较高的权限。

   例如，`C:\Program Files` 路径就是以上情况。

3. 将 Flutter SDK 压缩文件 (zip) 解压到你想要存储的目录中。可以使用以下指令进行解压。

   ```
     PS C:\> Expand-Archive `
         –Path $env:USERPROFILE\Downloads\flutter_windows_3.24.1-stable.zip `
         -Destination $env:USERPROFILE\dev\
   ```

   content_copy

   完成后，Flutter SDK 应该会位于 `C:\user\{username}\dev\flutter` 目录中。

#### 更新 Windows PATH 环境变量

[#](https://docs.flutter.cn/get-started/install/windows/mobile#update-your-windows-path-variable)

[help帮助](https://docs.flutter.cn/get-started/install/help#unable-to-find-the-flutter-command)

将 Flutter 添加到 `PATH` 环境变量后，才能在 PowerShell 中运行 Flutter 指令。本节假定你在 `%USERPROFILE%\dev\flutter` 中安装了 Flutter SDK。

1. 按下快捷键 Windows + Pause。

   如果你的键盘上没有 Pause 键，请尝试 Windows + Fn + B。

   这将会显示 **系统 > 系统信息** 的窗口。

   

   **Windows11用户使用Win + i**

   <img src="http://112.124.30.120/MarkDownAssets/flutter-2.png" alt="img" style="width:85%;" />

   呼出上图中页面后，左侧列表中选择 **系统** ， 在右侧菜单中选择最底部的 **系统信息**，进入如下图所示的**系统信息**页面

   <img src="http://112.124.30.120/MarkDownAssets/flutter-3.png" alt="img" style="width: 85%;" />

   

   

2. 单击 **高级系统设置** > **高级** > **环境变量…**

   这将会显示 **环境变量** 的窗口。

   <img src="http://112.124.30.120/MarkDownAssets/flutter-4.png" alt="img" style="zoom:50%;" />

3. 在 **username 用户变量** 的部分中，找到 **Path** 条目。

   

   1. 如果存在该条目，请双击它。

      这将会显示 **编辑环境变量** 的窗口。

      

      1. 双击空白行。
      2. 输入 `%USERPROFILE%\dev\flutter\bin`。
      3. 单击选中 **%USERPROFILE%\dev\flutter\bin** 条目。
      4. 单击 **上移**，直到 Flutter 条目位于列表顶部。
      5. 顺着打开的窗口依次点击 **确认**（三次）。

   2. 如果条目不存在，请单击 **新建…**。

      这将会显示 **新建用户变量** 的窗口。

      

      1. 在 **变量名** 框中，输入 `Path`。
      2. 在 **变量值** 框中，输入 `%USERPROFILE%\dev\flutter\bin`。
      3. 顺着打开的窗口依次点击 **确认**（三次）。

4. 为了启用这些更改，请关闭并重新打开所有现有命令提示符和 PowerShell 实例。





### 执行flutter doctor可能遇到的问题

#### 1. Android toolchain错误

<img src="http://112.124.30.120/MarkDownAssets/flutter-error1.png" alt="img" style="zoom:50%;" />

**解决方法：**

已有**AndroidStudio**的使用者，打开**AndroidStudio**，选择**File** > **Settings**

<img src="http://112.124.30.120/MarkDownAssets/flutter-as1.png" alt="img" style="zoom:67%;" />

在左上角搜索框输入 Android SDK ， 选择搜索结果中的Languages & Frameworks下的

<img src="http://112.124.30.120/MarkDownAssets/flutter-as2.png" alt="img" style="width:80%;" />
